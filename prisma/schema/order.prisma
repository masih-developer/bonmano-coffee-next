model Order {
  id                 Int                  @id @default(autoincrement())
  totalPrice         Float
  orderStatus        order_orderStatus
  orderDate          DateTime             @default(now())
  paymentStatus      order_paymentStatus
  userId             Int
  createdAt          DateTime             @default(now())
  updatedAt          DateTime
  orderitem          OrderItem[]
  orderstatushistory OrderStatusHistory[]
  user               User                 @relation(fields: [userId], references: [id], map: "Order_userId_fkey")
  payment            Payment[]

  @@index([userId], map: "Order_userId_fkey")
  @@map("orders")
}

model OrderStatusHistory {
  id         Int                       @id @default(autoincrement())
  status     orderstatushistory_status
  statusDate DateTime                  @default(now())
  orderId    Int
  createdAt  DateTime                  @default(now())
  updatedAt  DateTime
  order      Order                     @relation(fields: [orderId], references: [id], map: "OrderStatusHistory_orderId_fkey")

  @@index([orderId], map: "OrderStatusHistory_orderId_fkey")
  @@map("order_status_histories")
}

model OrderItem {
  id             Int      @id @default(autoincrement())
  productName    String
  quantity       Int
  price          Float
  totalItemPrice Float
  orderId        Int
  createdAt      DateTime @default(now())
  updatedAt      DateTime
  order          Order    @relation(fields: [orderId], references: [id], map: "OrderItem_orderId_fkey")

  @@index([orderId], map: "OrderItem_orderId_fkey")
  @@map("order_items")
}

enum orderstatushistory_status {
  COMPLETED
  CANCELLED
  PENDING
  IN_PROGRESS
}

enum order_orderStatus {
  COMPLETED
  CANCELLED
  PENDING
  IN_PROGRESS
}

enum order_paymentStatus {
  PAID
  PENDING
}
